<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS Paint - Art</title>
    <!-- Load Tailwind CSS via CDN for rapid styling --><script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles inherited from works.html */
        body {
            /* Replace 'paper.jpg' with your actual background image URL */
            background-image: url('paper.jpg'); 
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            /* FONT: Helvetica */
            font-family: Helvetica, Arial, sans-serif;
        }

        /* Enforce link styling */
        h1 a {
            text-decoration: none;
            color: black;
        }
        
        /* Ensure the image has the correct style */
        .art-image {
             transition: transform 0.3s ease;
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
             width: 100%; /* Ensure image fills container */
             height: auto;
             object-fit: contain; /* Use contain for full image visibility */
        }
        
        .back-link:hover {
            font-weight: bold;
            color: #000;
        }
        
        /* Custom styling for the search input */
        #search-input {
            transition: all 0.2s;
            border-width: 1px;
            border-color: rgba(0, 0, 0, 0.2);
        }
        #search-input:focus {
            border-color: #000;
            outline: none;
            box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header Block (Consistent with works.html) -->
    <header class="pt-4 pb-4">
        <h1 class="text-4xl text-center font-bold mb-0">
            <a href="https://mundame.github.io/mundame/">mundame</a>
        </h1>
        <h2 class="text-xl text-center font-normal text-gray-700 mt-1">art</h2>
    </header>

    <!-- Main Content: MS Paint Search Gallery -->
    <main class="container mx-auto p-4 md:p-8">
        
        <!-- Wrapper for Back Link and Title to align them with the main card -->
        <div class="max-w-3xl mx-auto mb-6">
            
            <!-- Back Link - Left aligned -->
            <div class="mb-2 text-left">
                <a href="works.html" class="back-link text-gray-700 transition duration-150">&larr; back</a>
            </div>
            
            <!-- Title - Left aligned -->
            <h3 class="text-3xl font-semibold text-left mb-4">ms paint</h3>
            
            <!-- Search Bar -->
            <input type="text" id="search-input" placeholder="Search titles, medium, or year..."
                   class="w-full p-2 rounded-lg bg-white/50 backdrop-blur-sm shadow-md" />
        </div>
        
        <!-- Art List Container (Scrollable Gallery) -->
        <div id="art-list" class="space-y-8">
            <!-- Art items will be rendered here by JavaScript -->
        </div>

    </main>
    
    <!-- Lightbox/Modal Structure for Full-Screen View (NEW) -->
    <div id="lightbox" class="fixed inset-0 bg-black bg-opacity-90 hidden z-50 flex items-center justify-center cursor-pointer transition-opacity duration-300">
        <div class="relative max-w-full max-h-full p-4" onclick="event.stopPropagation()">
            <img id="lightbox-image" 
                 src="" 
                 alt="Full screen art view" 
                 class="max-w-full max-h-[90vh] object-contain cursor-pointer" 
                 onclick="closeLightbox()"
            />
            <button onclick="closeLightbox()" class="absolute top-4 right-4 text-white text-3xl font-bold p-2 leading-none hover:text-gray-300 transition duration-150">
                &times;
            </button>
        </div>
    </div>
    
    <script>
        // Array of art data for dynamic rendering and searching
        const msPaintArt = [
            { 
                id: 1, 
                title: 'messiaen',
                image: 'messiaen_still.png', /* Confirmed relative path */
                description: 'Still image for the *messiaen* piece. This work explores digital textures and color theory using only the tools available in Microsoft Paint.',
                medium: 'MS Paint (Digital)',
                year: '2023',
                keywords: 'messiaen digital texture color 2023'
            },
            { 
                id: 2, 
                title: 'The Great Blue', 
                image: 'https://placehold.co/800x600/f0f0f0/333', 
                description: 'A study in minimalist landscape composition, focusing on shades of blue and sparse geometry.',
                medium: 'MS Paint (Digital)',
                year: '2024',
                keywords: 'blue landscape minimalist geometry 2024'
            },
            { 
                id: 3, 
                title: 'City Sunset', 
                image: 'https://placehold.co/800x600/d0d0d0/333', 
                description: 'An experiment in gradient fills and pixelated architecture inspired by classic 8-bit games.',
                medium: 'MS Paint (Digital)',
                year: '2022',
                keywords: 'city sunset gradient 8bit architecture 2022'
            }
        ];

        // Lightbox Functions
        function openLightbox(event, linkElement) {
            event.preventDefault(); 
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const imageSrc = linkElement.getAttribute('href'); 
            lightboxImage.src = imageSrc;
            lightbox.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.add('hidden');
            document.body.style.overflow = ''; 
        }

        // Close lightbox when clicking the overlay or pressing ESC
        document.addEventListener('DOMContentLoaded', () => {
             document.getElementById('lightbox').addEventListener('click', closeLightbox);
             document.addEventListener('keydown', (e) => {
                 if (e.key === 'Escape' && !document.getElementById('lightbox').classList.contains('hidden')) {
                     closeLightbox();
                 }
             });
        });
        
        // Function to render the art list based on search query
        function renderArt() {
            const artList = document.getElementById('art-list');
            const searchInput = document.getElementById('search-input');
            const query = searchInput.value.toLowerCase();
            
            // 1. Filter the art array based on the search query
            const filteredArt = msPaintArt.filter(item => 
                item.keywords.toLowerCase().includes(query)
            );

            // 2. Build the HTML content as a single string
            let htmlContent = filteredArt.map(item => `
                <div class="max-w-3xl mx-auto bg-white/50 backdrop-blur-sm p-6 rounded-lg shadow-xl">
                    
                    <h4 class="text-2xl font-bold text-center mb-6">${item.title}</h4>

                    <!-- Art Image wrapped in a clickable link for lightbox -->
                    <div class="flex justify-center mb-6">
                        <a href="${item.image}" onclick="openLightbox(event, this)" class="block">
                            <img src="${item.image}" 
                                 alt="${item.title}" 
                                 class="art-image max-w-full rounded-lg">
                        </a>
                    </div>

                    <!-- Description/Details -->
                    <div class="text-center">
                        <p class="text-gray-800 text-lg mb-4">${item.description}</p>
                        <p class="text-sm text-gray-600">
                            Medium: ${item.medium} | Year: ${item.year}
                        </p>
                    </div>
                </div>
            `).join(''); // Join all item strings into one large HTML string

            // 3. Update the DOM once
            if (htmlContent === '' && query !== '') {
                 artList.innerHTML = `<p class="text-center text-xl text-gray-700 mt-12">No results found for "${query}".</p>`;
            } else {
                 artList.innerHTML = htmlContent;
            }
        }

        // Initial render and set up search listener
        document.addEventListener('DOMContentLoaded', () => {
            renderArt();
            document.getElementById('search-input').addEventListener('input', renderArt);
        });
    </script>

</body>
</html>
